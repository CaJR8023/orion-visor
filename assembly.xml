<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd
http://maven.apache.org/ASSEMBLY/2.0.0 ">
    <!--Required, will be appended to the end of the packaged file name-->
    <id>bin</id>
    <includeBaseDirectory>true</includeBaseDirectory>
    <baseDirectory>devops</baseDirectory>
    <!--Packaging type, multiple types can be set, different types will be packaged when packaging-->
    <formats>
        <format>tar.gz</format>
    </formats>
    <!--Third-party dependency settings-->
<!--    <dependencySets>-->
<!--        <dependencySet>-->
<!--            &lt;!&ndash;Use artifacts in the project, third-party packages packaged into the lib directory of the tar.gz file&ndash;&gt;-->
<!--            <useProjectArtifact>true</useProjectArtifact>-->
<!--            <outputDirectory>lib</outputDirectory>-->
<!--        </dependencySet>-->
<!--    </dependencySets>-->

    <!--File-related settings-->
    <fileSets>
        <!--All script files under the bin directory are output to the bin directory after packaging-->
        <fileSet>
            <directory>../docker/service</directory>
            <!-- Whether to perform property replacement, that is, use ${project.artifactId} -->
            <filtered>true</filtered>
            <includes>
                <include>entrypoint.sh</include>
                <include>nginx.conf</include>
            </includes>
            <outputDirectory>/</outputDirectory>
            <fileMode>0755</fileMode>
        </fileSet>

        <!-- Configuration files under the src/main/resources directory are packaged to the config directory-->
<!--        <fileSet>-->
<!--            <directory>src/main/resources</directory>-->
<!--            <includes>-->
<!--                <include>application.yml</include>-->
<!--                <include>logback-spring.xml</include>-->
<!--            </includes>-->
<!--            <filtered>true</filtered>-->
<!--            <outputDirectory>${file.separator}config</outputDirectory>-->
<!--        </fileSet>-->

        <!-- Configuration files under the src/main/resources/define directory are packaged to the define directory -->
        <fileSet>
            <directory>src/main/resources</directory>
            <includes>
                <include>define/**</include>
            </includes>
            <filtered>true</filtered>
            <outputDirectory>${file.separator}</outputDirectory>
        </fileSet>

        <!-- Pack the startup jar in the target directory to the directory-->
        <fileSet>
            <directory>target</directory>
            <outputDirectory>/</outputDirectory>
            <includes>
                <include>*.jar</include>
            </includes>
        </fileSet>

        <!-- Pack the static resources of the web app into the dist directory-->
        <fileSet>
            <directory>../orion-visor-ui/dist</directory>
            <outputDirectory>dist</outputDirectory>
        </fileSet>
    </fileSets>
</assembly>
